<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Visitor Tracking</title>
    <link rel="stylesheet" href="admin.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="admin-container">
        <div class="admin-header">
            <button class="back-btn" onclick="window.location.href='../index.html'">â† Back to Home</button>
            <h1>ğŸ” Admin Panel</h1>
            <p class="subtitle">Visitor Tracking Dashboard</p>
        </div>
        
        <div class="dashboard-cards">
            <div class="dashboard-card">
                <div class="card-icon">ğŸ‘¥</div>
                <div class="card-content">
                    <h3>Total Visitors</h3>
                    <p class="card-value" id="totalVisitors">0</p>
                </div>
            </div>
            
            <div class="dashboard-card">
                <div class="card-icon">ğŸ“±</div>
                <div class="card-content">
                    <h3>Mobile Users</h3>
                    <p class="card-value" id="mobileUsers">0</p>
                </div>
            </div>
            
            <div class="dashboard-card">
                <div class="card-icon">ğŸ•</div>
                <div class="card-content">
                    <h3>Last Visit</h3>
                    <p class="card-value" id="lastVisit">-</p>
                </div>
            </div>
        </div>
        
        <div class="dashboard-cards">
            <div class="dashboard-card">
                <div class="card-icon">ğŸ“¸</div>
                <div class="card-content">
                    <h3>Captured Photos</h3>
                    <p class="card-value" id="totalPhotos">0</p>
                </div>
            </div>
            <div class="dashboard-card">
                <div class="card-icon">âš–ï¸</div>
                <div class="card-content">
                    <h3>Main Site Users</h3>
                    <p class="card-value" id="mainSiteUsers">0</p>
                </div>
            </div>
            <div class="dashboard-card">
                <div class="card-icon">ğŸ‚</div>
                <div class="card-content">
                    <h3>Birthday Site Users</h3>
                    <p class="card-value" id="birthdaySiteUsers">0</p>
                </div>
            </div>
        </div>
        
        <!-- Main Site Users Table -->
        <div class="table-container">
            <h2>âš–ï¸ Main Website Users (Anshu)</h2>
            <div class="table-controls">
                <button class="refresh-btn" onclick="loadAllUsers()">ğŸ”„ Refresh</button>
                <button class="clear-btn" onclick="clearData()">ğŸ—‘ï¸ Clear Data</button>
            </div>
            <table class="visitor-table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Visit Time</th>
                        <th>Device / Mobile</th>
                        <th>Browser</th>
                        <th>Latitude</th>
                        <th>Longitude</th>
                    </tr>
                </thead>
                <tbody id="mainSiteTableBody">
                    <!-- Data will be loaded here -->
                </tbody>
            </table>
            <p class="no-data" id="noMainSiteData">No main site users yet.</p>
        </div>
        
        <!-- Birthday Site Users Table -->
        <div class="table-container">
            <h2>ğŸ‚ Birthday Site Users</h2>
            <div class="table-controls">
                <button class="refresh-btn" onclick="loadAllUsers()">ğŸ”„ Refresh</button>
            </div>
            <table class="visitor-table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Birth Date</th>
                        <th>Target Date</th>
                        <th>Visit Time</th>
                        <th>Device / Mobile</th>
                        <th>Browser</th>
                        <th>Latitude</th>
                        <th>Longitude</th>
                    </tr>
                </thead>
                <tbody id="birthdaySiteTableBody">
                    <!-- Data will be loaded here -->
                </tbody>
            </table>
            <p class="no-data" id="noBirthdaySiteData">No birthday site users yet.</p>
        </div>
        
        <!-- Legacy Visitor Log (for backward compatibility) -->
        <div class="table-container" style="display: none;">
            <h2>Visitor Log</h2>
            <div class="table-controls">
                <button class="refresh-btn" onclick="loadVisitors()">ğŸ”„ Refresh</button>
            </div>
            <table class="visitor-table">
                <thead>
                    <tr>
                        <th>Visit Time</th>
                        <th>Device / Mobile</th>
                        <th>Browser</th>
                        <th>Latitude</th>
                        <th>Longitude</th>
                    </tr>
                </thead>
                <tbody id="visitorTableBody">
                    <!-- Data will be loaded here -->
                </tbody>
            </table>
            <p class="no-data" id="noData">No visitor data available yet.</p>
        </div>
        
        <div class="photos-container">
            <h2>ğŸ“¸ Captured Photos Gallery</h2>
            <div class="table-controls">
                <button class="refresh-btn" onclick="loadPhotos()">ğŸ”„ Refresh Photos</button>
            </div>
            <div class="photos-gallery" id="photosGallery">
                <!-- Photos will be loaded here -->
            </div>
            <p class="no-data" id="noPhotosData">No photos captured yet.</p>
        </div>
    </div>
    
    <script src="admin.js"></script>
</body>
</html>
